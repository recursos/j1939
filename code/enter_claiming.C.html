<html>
<head>
   <title>enter_claiming.C</title>
   <meta name="generator" content="Lore&#039;s Source to HTML Converter - http://www.newty.de/lsc/index.html"
</head>

<body style="background:#ffffff;"><a name="top"></a>
<tr><td><a href="Overview.html"><font color="#0000ff">Back </font></a>

<pre><code><font color="#0000ff">
<font color="#008080"><i>/*</i></font>
<font color="#008080"><i> * Start address claiming</i></font>
<font color="#008080"><i> */</i></font>
<font color="#800080">void</font> EnterClaiming<font color="#000000">()</font>
<font color="#000000">{</font>
  cancelTimer<font color="#000000">(</font> ACLTimer <font color="#000000">);</font>
  cancelTimer<font color="#000000">(</font> TX_HB_Timer <font color="#000000">);</font>

  <font color="#008080"><i>// send address claiming PG and wait 250ms</i></font>
  TX_ACL<font color="#000000">.</font>SA <font color="#000000">=</font> gECUAddress<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>DA <font color="#000000">=</font> kGlobalAddr<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>ArbitraryAddressCapable <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939AAC<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>IndustryGroup           <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939IndustryGroup<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>VehicleSystem           <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939System<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>VehicleSystemInstance   <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939SystemInstance<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>Function                <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939Function<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>FunctionInstance        <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939FunctionInstance<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>ECUInstance             <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939ECUInstance<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>ManufacturerCode        <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939ManufacturerCode<font color="#000000">;</font>
  TX_ACL<font color="#000000">.</font>IdentityNumber          <font color="#000000">=</font> Node3<font color="#000000">.</font>NmJ1939IdentityNumber<font color="#000000">;</font>

  gACLPending <font color="#000000">=</font> <font color="#ff0080">1</font><font color="#000000">;</font>

  output<font color="#000000">(</font> TX_ACL <font color="#000000">);</font>

  putValue<font color="#000000">(</font> EvNode3_Address<font color="#000000">,</font> kNullAddr <font color="#000000">);</font>

  setTimer<font color="#000000">(</font> ACLTimer<font color="#000000">,</font> <font color="#ff0080">250</font> <font color="#000000">);</font>

  writeDbgLevel<font color="#000000">(</font> kDbgInfo<font color="#000000">,</font> &quot;&lt;%s&gt; start address claiming for address %d&quot;<font color="#000000">,</font> gNodeName<font color="#000000">,</font> TX_ACL<font color="#000000">.</font>SA <font color="#000000">);</font>
<font color="#000000">}</font>
</font>
</code></pre>
<a href="#top"><font color="#0000ff">Top</a></font></body></html>

<!-- Generated by Lore&#039;s Source to HTML Converter(http://www.newty.de/lsc/index.html) -->
